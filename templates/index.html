<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Loan Default Prediction</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
    <h1>Loan Default Prediction</h1>
    <p>
        Enter any subset of the fields below.  
        If you leave a field blank, the app will use the
        <strong>average value from the training data</strong> for that feature.
    </p>

    <form id="prediction-form">

        <div class="input-group">
            <label for="loan_amnt">Loan Amount</label>
            <input type="number" step="0.01" id="loan_amnt" name="loan_amnt"
                   placeholder="e.g. 5000 (optional)">
        </div>

        <div class="input-group">
            <label for="annual_inc">Annual Income</label>
            <input type="number" step="0.01" id="annual_inc" name="annual_inc"
                   placeholder="e.g. 60000 (optional)">
        </div>

        <div class="input-group">
            <label for="dti">Debt-to-Income Ratio (DTI)</label>
            <input type="number" step="0.01" id="dti" name="dti"
                   placeholder="e.g. 15.2 (optional)">
        </div>

        <div class="input-group">
            <label for="int_rate">Interest Rate (%)</label>
            <input type="number" step="0.01" id="int_rate" name="int_rate"
                   placeholder="e.g. 13.5 (optional)">
        </div>

        <div class="input-group">
            <label for="installment">Installment</label>
            <input type="number" step="0.01" id="installment" name="installment"
                   placeholder="e.g. 200 (optional)">
        </div>

        <div class="input-group">
            <label for="funded_amnt">Total Amount Committed</label>
            <input type="number" step="0.01" id="funded_amnt" name="funded_amnt"
                   placeholder="e.g. 15000 (optional)">
        </div>

        <div class="input-group">
            <label for="total_rec_prncp">Total Received Principal</label>
            <input type="number" step="0.01" id="total_rec_prncp" name="total_rec_prncp"
                   placeholder="e.g. 500 (optional)">
        </div>

        <button type="submit">Predict Default Probability</button>
    </form>

    <div id="results">
        <h2 id="prediction-output" style="display:none;"></h2>
        <pre id="filled-inputs" style="display:none; text-align:left;"></pre>
    </div>

    <!-- ---------------------------------------------------- -->
    <!-- MODEL EVALUATION GRAPHS SECTION                      -->
    <!-- ---------------------------------------------------- -->

    <h2 style="margin-top:40px;">Model Evaluation Graphs</h2>

    <div id="evaluation-graphs" style="text-align:center;">
        
        <h3>ROC Curve</h3>
        <img src="/results/roc_curve.png" alt="ROC Curve" style="width:500px;">

        <h3>Precisionâ€“Recall Curve</h3>
        <img src="/results/pr_curve.png" alt="Precision-Recall Curve" style="width:500px;">

        <h3>Confusion Matrix</h3>
        <img src="/results/confusion_matrix.png" alt="Confusion Matrix" style="width:500px;">

        <h3>Feature Importance</h3>
        <img src="/results/feature_importance.png" alt="Feature Importance" style="width:500px;">
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
